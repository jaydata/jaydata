<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8" />
    <title>JayData unit tests</title>

    <link rel="stylesheet" href="test/qunit/scripts/external/qunit//qunit.css" type="text/css" media="screen" />
    <script type="text/javascript" src="node_modules/reflect-metadata/Reflect.js"></script>
    <script type="text/javascript" src="test/qunit/scripts/external/qunit/qunit.js"></script>
    <script type="text/javascript" src="test/qunit/scripts/external/jquery-1.8.0.js"></script>
    <script type="text/javascript" src="test/qunit/scripts/external/jquery.validate.js"></script>
    <script type="text/javascript" src="test/qunit/scripts/external/knockout-2.1.0.js"></script>

    <script type="text/javascript" src="external/odatajs-4.0.0/odatajs-4.0.0.js"></script>

    <!-- <script type="text/javascript" src="external/acorn.js"></script> -->
    <script type="text/javascript" src="dist/public/jaydata.js" /></script>
    <script type="text/javascript" src="dist/public/jaydataproviders/YQLProvider.js" /></script>
    <script type="text/javascript" src="dist/public/jaydataproviders/FacebookProvider.js" /></script>
    <script type="text/javascript" src="dist/public/jaydataproviders/oDataProvider.js" /></script>
    <script type="text/javascript" src="dist/public/jaydataproviders/SqLiteProvider.js" /></script>
    <script type="text/javascript" src="dist/public/jaydataproviders/InMemoryProvider.js" /></script>
    <script type="text/javascript" src="dist/public/jaydataproviders/IndexedDbProvider.js" /></script>

     <script type="text/javascript" src="dist/public/jaydatamodules/inMemory.js" /></script>
     <script type="text/javascript" src="dist/public/jaydatamodules/knockout.js" /></script>
     <script type="text/javascript" src="dist/public/jaydatamodules/validate.js" /></script>
     <script type="text/javascript" src="dist/public/jaydatamodules/deferred.js" /></script>

    <script>
      if (typeof Promise != 'function'){
          window.Promise = {
              all: function(promises){
                  return $.when.apply(this, promises);
              }
          };
      }else{
          Promise.prototype['fail'] = function(onReject){
			return this.then(null, function(reason){
				onReject(reason);
				throw reason;
			});
		};

		Promise.prototype['always'] = function(onResolveOrReject) {
			return this.then(onResolveOrReject, function(reason) {
				onResolveOrReject(reason);
				throw reason;
			});
		};
      }
      //$data.PromiseHandler.compatibilityMode();
      $data.setModelContainer(window)
      $data.defaults.OData.withReferenceMethods = true;
      $data.defaults.OData.disableCompltexTypeMapping = true;
      //$data.defaults.OData.enableDeepSave = true;
      //$data.defaults.OData.disableBatch = true;
      //$data.setGlobal(window)
    </script>
    <script type="text/javascript" src="test/qunit/NewsReaderContext.js" /></script>

    <script src="test/qunit/scripts/converterTests.js" type="text/javascript"></script>
    <script src="test/qunit/scripts/inMemoryProviderTests.js" type="text/javascript"></script>
    <!-- <script src="UnitTests/storageModelTests.js" type="text/javascript"></script> -->
    <script src="test/qunit/scripts/typeSystemTests.js" type="text/javascript"></script>
    <script src="test/qunit/scripts/EntityContextTests.js" type="text/javascript"></script>
    <script src="test/qunit/scripts/dataDistributeTest.js" type="text/javascript"></script>
    <script src="test/qunit/scripts/ValidationTests.js" type="text/javascript"></script>
    <script src="test/qunit/scripts/indexedDbProviderTest.js" type="text/javascript"></script>

    <script src="test/qunit/scripts/knockoutTests.js" type="text/javascript"></script>
    <!-- <script src="UnitTests/setOperationTests.js" type="text/javascript"></script> -->

    <script src="test/qunit/scripts/sqLiteProviderTests.js" type="text/javascript"></script>
    <script src="test/qunit/scripts/sqLiteCompilerTests.js" type="text/javascript"></script>
    <script src="test/qunit/scripts/sqLiteCRUDTests.js" type="text/javascript"></script>
    <script src="test/qunit/scripts/LocalItemStoreTests.js" type="text/javascript"></script>

    <!-- <script src="UnitTests/oDataProviderTests.js" type="text/javascript"></script> -->

    <!--Commented out because of popups-->
    <!--<script src="UnitTests/oDataProviderTests_auth.js" type="text/javascript"></script>-->

    <script src="test/qunit/scripts/T1.js" type="text/javascript"></script>
    <script src="test/qunit/scripts/T3.js" type="text/javascript"></script>
    <script src="test/qunit/scripts/T4.js" type="text/javascript"></script>
    <!-- <script src="UnitTests/webApiTests.js" type="text/javascript"></script> -->
    <script src="test/qunit/scripts/dataServiceVersionTests.js" type="text/javascript"></script>
    <script src="test/qunit/scripts/TypesTest.js" type="text/javascript"></script>
    <script src="test/qunit/scripts/CollectionTests.js" type="text/javascript"></script>
    <script src="test/qunit/scripts/T2.js" type="text/javascript"></script>
    <script src="test/qunit/scripts/loadPropertyTests.js" type="text/javascript"></script>
    <script src="test/qunit/scripts/ValidatonPluginTest.js" type="text/javascript"></script>
    <script src="test/qunit/scripts/promiseTests.js" type="text/javascript"></script>
    <!-- <script src="UnitTests/JaySvcUtilTests.js" type="text/javascript"></script> -->

    <!-- <script src="test/qunit/scripts/FaceBookProviderTests.js" type="text/javascript"></script> -->
    <!--<script src="test/qunit/scripts/YQLProviderTests.js" type="text/javascript"></script> -->

    <script src="test/qunit/scripts/oDataProviderTests2.js" type="text/javascript"></script>
    <!--<script src="test/qunit/scripts/oDataEnumTests.js" type="text/javascript"></script>
    <script src="test/qunit/scripts/oDataReadTests.js" type="text/javascript"></script>-->
</head>
<body>

  <!--script type="text/javascript" src="dist/JayData.js" /></script-->
  <!--script type="text/javascript" src="release/jaydata.js" /></script-->
  <h1 id="qunit-header">
          JayData unit tests</h1>
      <h2 id="qunit-banner">
      </h2>
      <div id="qunit-testrunner-toolbar">
      </div>
      <h2 id="qunit-userAgent">
      </h2>
      <ol id="qunit-tests">
      </ol>
      <div id="qunit-fixture">
          test markup, will be hidden</div>
</body>
</html>
